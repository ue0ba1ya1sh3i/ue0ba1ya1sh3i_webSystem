<style>
    main {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
    }

    div.widget {
        animation: popup 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        width: 300px;
        margin: 10px;
        padding: 10px;
        background-color: #363636;
        border: 2px solid rgb(104, 104, 104);
        border-radius: 10px;
    }

    p.widgetTitle {
        color: white;
        font-size: 20px;
    }

    img.widgetImage {
        text-align: center;
        width: 280px;
        border-radius: 10px;
        display: flex;
        margin: 10px;
        opacity: 0.7;
    }

    p.widgetSubTitle {
        color: white;
        font-size: 15px;
        padding: 0 0 5px 0;
        margin: 5px 0 10px 0;
        border-bottom: 3px solid rgb(104, 104, 104);
    }
</style>

<main id="main">

</main>

<script>
    fetch('/app/info', {
        //settings
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
                
        body: JSON.stringify({
            access: "true"
        })
    })

    .then(response => response.text())
    .then(data => {
        var deta = JSON.parse(data);
        var length = Object.keys(deta).length;

        //mainProgram
        for(i = 1; i < length + 1; i++) {
            document.getElementById("main").insertAdjacentHTML(
                'beforeend', 
                '<div class="widget"><a href="/app/' + i + '"><p class="widgetTitle">' + deta["num" + i].title + '</p><p class="widgetSubTitle">' + deta["num" + i].subTitle + '</p><img src="/deta/app/image/num' + i + '.png" alt="' + deta["num" + i].title + '" class="widgetImage"></a></div>'
            );
        };
    })

    .catch((error) => {
        //error
        document.getElementById("main").insertAdjacentHTML(
            'beforeend', 
            '<div class="widget"><p class="widgetTitle">エラーが発生しました。</p><p class="widgetSubTitle">Error: ' + error + '</p></div>'
        );
    });
</script>